# üì∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ –≤ –∞–¥–º–∏–Ω–∫–µ —Ç–æ–≤–∞—Ä–æ–≤

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ

1. **–§—Ä–æ–Ω—Ç–µ–Ω–¥ (HTML + JavaScript)**:
   - –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–æ—Ç–æ (`app/templates/products/new.html`)
   - –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ñ–æ—Ç–æ (`app/templates/products/edit.html`)
   - Drag & Drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
   - –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–æ—Ç–æ
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ 6 —Ñ–æ—Ç–æ –º–∞–∫—Å–∏–º—É–º

2. **–ë—ç–∫–µ–Ω–¥ (API + –°–µ—Ä–≤–∏—Å—ã)**:
   - –ú–æ–¥–µ–ª—å `ProductPhoto` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ
   - –°–µ—Ä–≤–∏—Å `ProductPhotoService` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–æ—Ç–æ
   - API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≤ `shop_api.py` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ
   - –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–æ—É—Ç–µ—Ä—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ö

3. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**:
   - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/static/uploads/products/` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤

## üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
uvicorn app.main:app --reload
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —Å —Ñ–æ—Ç–æ
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/products/new
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É —Ç–æ–≤–∞—Ä–∞
3. –í —Å–µ–∫—Ü–∏–∏ "–§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞" –∑–∞–≥—Ä—É–∑–∏—Ç–µ 1-6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
4. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä"
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ `app/static/uploads/products/`

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/products
2. –ù–∞–∂–º–∏—Ç–µ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –Ω–∞ –ª—é–±–æ–º —Ç–æ–≤–∞—Ä–µ
3. –í —Å–µ–∫—Ü–∏–∏ "–§–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞" –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–æ—Ç–æ
   - –ö–Ω–æ–ø–∫–∏ "–£–¥–∞–ª–∏—Ç—å" –∏ "–°–¥–µ–ª–∞—Ç—å –≥–ª–∞–≤–Ω—ã–º"
   - –ó–∞–≥—Ä—É–∑–∫—É –Ω–æ–≤—ã—Ö —Ñ–æ—Ç–æ
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ API
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–∞
curl http://127.0.0.1:8000/api/shop/products/1/photos

# –£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ
curl -X DELETE http://127.0.0.1:8000/api/shop/products/photos/1

# –û–±–Ω–æ–≤–∏—Ç—å —Ñ–æ—Ç–æ (—Å–¥–µ–ª–∞—Ç—å –≥–ª–∞–≤–Ω—ã–º)
curl -X PATCH http://127.0.0.1:8000/api/shop/products/photos/1 \
  -F "is_main=true"
```

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ 401 (Unauthorized)
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∏–ª–∏ –º–µ–Ω–µ–¥–∂–µ—Ä

### 2. –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–º–∞–∫—Å–∏–º—É–º 10MB)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –∏–º–µ–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç (PNG, JPG, JPEG, WEBP)

### 3. –§–æ—Ç–æ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `app/static/uploads/products/` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
app/
‚îú‚îÄ‚îÄ templates/products/
‚îÇ   ‚îú‚îÄ‚îÄ new.html          # –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–æ—Ç–æ
‚îÇ   ‚îî‚îÄ‚îÄ edit.html         # –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ñ–æ—Ç–æ
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ product_photos.py # –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–æ—Ç–æ
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ product_photo.py  # –ú–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ç–æ
‚îú‚îÄ‚îÄ routers/
‚îÇ   ‚îú‚îÄ‚îÄ web_products.py   # –í–µ–±-—Ä–æ—É—Ç–µ—Ä—ã –¥–ª—è —Ñ–æ—Ä–º
‚îÇ   ‚îî‚îÄ‚îÄ shop_api.py       # API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ
‚îî‚îÄ‚îÄ static/uploads/products/ # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Ñ–æ—Ä–º
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
